<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Overdue & Fines</title>
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <!-- Google Font -->
    <link href='https://fonts.googleapis.com/css?family=Josefin Sans'>
    <!-- Boxicons Icon -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@2.1.0/css/boxicons.min.css">
    <!-- Favicon  -->
    <link rel="icon" href="../uploads/favicon.ico" type="image/x-icon">
    <!-- CSS -->
    <link rel="stylesheet" href="defaultAdmin.css">
    <link rel="stylesheet" href="adminOverdue.css">
</head>
<body>
    <!-- Header Start -->
    <header id="header-container"></header>
    <!-- Header End -->

    <!-- Sidebar Start -->
    <aside>
        <nav id="sidebar-container"></nav>
    </aside>
    <!-- Sidebar End -->

    <main>
        <!-- Nav Start -->
        <div id="intro-nav">
            <!-- Title Start -->
            <div class="iconTitle">
                <span class="icons"><i class='bx bx-dollar-circle icon'></i></span>
                <h1>Overdue & Fines</h1>
            </div>
            <!-- Title End -->

            <div class="rightButtons">
                <!-- Notification start -->
                <div class="introNavButtons">
                    <button class="notification-button" onclick="toggleDropdown()">
                        <i class='bx bx-bell' ></i>
                    </button>
                    <div class="dropdown-content" id="notificationDropdown">
                        <span class="notiTitle">Notifications</span>
                        <button class="markAllRead" onclick="markAllAsRead()">Mark All as Read</button>
                        <div id="notificationList"></div>
                    </div>
                </div>
                <!-- Notification end -->

                <!-- Help Button Start -->
                <a href="adminHelp.html" class="navBtns">
                    <i class='bx bx-help-circle' ></i>
                </a>
                <!-- Help Button End -->

                <!-- Settings Button Start -->
                <a href="adminSettings.html" class="navBtns">
                    <i class='bx bx-cog' ></i>
                </a>
                <!-- Settings Button End -->

                <!-- Profile Button Start -->
                <a href="adminProfile.html" class="profBtn">
                    <button class="userProfile" >
                        <div id="profPic"></div>
                        <div>
                            <p class="userName"></p>
                            <div id="userBadge"></div>
                        </div>
                    </button>
                </a>
                <!-- Profile Button End -->
            
            </div>
        </div>
        <!-- Nav End -->
        
        <!-- Pending Confirmation block start -->
        <div class="pending-block">
            <h2 class="block-title">Pending Confirmation of Payment</h2>
            
            <!--Search start -->
            <div class="search-block">
                <div class="search" id="search-pending">
                    <span class="icon"><i class='bx bx-search icon'></i></span>
                    <form class="search-form">
                        <span class="search-bar"><input type="search" id="searchInput3" name="search" placeholder="Search" required></span>
                    </form>
                </div>
            </div>
            <!--Search end -->
            
             <!-- Pending table start -->
             <div class="pending-table">
                <table class="fl-table">
                    <thead class="table-head">
                    <tr style="background-color: #00557F;">
                        <th></th>
                        <th>Payment Slip</th>
                        <th>Fines No.</th>
                        <th>Borrow No.</th>
                        <th>User ID</th>
                        <th>Book Title</th>
                        <th>Accession Number</th>
                        <th>Fine Amount</th>
                    </tr>
                    </thead>
                    <tbody id = "pending"></tbody>
                </table>
            </div>
            <!-- Pending table end -->
        </div>
        <!-- Pending Confirmation block end -->

        <!-- Payment block start -->
        <div class="payment-block">

            <!-- Check total fines start -->
            <div class="specificPatrons">
                <h2 class="specific-block-title">Check and Pay</h2>
                
                <!-- Check Pay Block start -->
                <div class="check-pay-block">

                    <!-- Payment table and total start -->
                    <div class="pay-table-total">

                        <!-- Payment table start -->
                        <div class="payment-table">
                            <table class="fl-table">
                                <thead cass="table-head">
                                <tr style="background-color: #00557F;">
                                    <th>Fines No.</th> 
                                    <th>Borrow No.</th>
                                    <th>Title</th>
                                    <th>Fine Price</th>
                                    <th>Proccessing Fee</th>
                                    <th>Overdue days</th>
                                </tr>
                                </thead>
                                <tbody id = "hello6"> 
                                </tbody>
                            </table>
                        </div>
                        <!-- Payment block end -->

                        <!-- Total fines label start -->
                        <div class="total-fines-label-button">
                            <p>Total Fines (RM)</p>
                            <p id="totalFines">0.00</p>
                            <!-- <button class= "pay-button" onclick="payFines()">PAY BY CASH </button> -->
                        </div>
                        <!-- Total fines label end -->

                    </div>
                    <!-- Payment table and total start -->

                    <div class="payment-box">
                        <div class="pay-input-calculate">
                            <label for="userid" class="payment-label"><b>Patron/User ID</b></label>
                            <div class="payment-input-button">
                                <input type="text" placeholder="Enter User ID" name="userid" id="userid" required>
                                <button type="button" class="calculate-btn" onclick="calculateFines()"><i class='bx bx-calculator' style="margin-right: 10px;"></i>Calculate</button>
                            </div>
                        </div>

                        <div class="pay-title-buttons">
                            <label for="payment-method" class="payment-label"><b>Payment Methods</b></label>
                            <div class="pay-method-button">
                                <button type="button" class="cash-btn" onclick="payFines()"><i class='bx bx-money pay-icon'></i>Cash</button>
                                <button type="button" class="banking-btn" onclick="payFines()"><i class='bx bx-wallet pay-icon'></i>E-Wallet</button>
                                <button type="button" class="ewallet-btn" onclick="payFines()"><i class='bx bxs-bank pay-icon'></i>Online Banking</button>
                            </div>
                        </div>
                    </div>
        
                </div>
                <!-- Check Pay Block end -->

            </div>
            <!-- Check total fines end -->



            <!-- Change Payment start -->
            <div class="changePayment">

                <h2 class="specific-block-title">Set Payment Account Details</h2>

                <div class="change-bank-ewallet-block">
                    <div class="bank-ewallet-block">
                        <div class="bank-acc-set-block">
                            <div class="set-title-button">
                                <h2 class="bank-acc-title"><i class='bx bxs-bank icon' ></i>Bank Account Details</h2>
                                <button class="set-button" onclick="setAcc()">Save Change</button>
                            </div>
                            <div class="set-payment-block">
                                <div class="bank-label-input">
                                    <label for="bank"><b>Bank</b></label>
                                    <input type="text" placeholder="Enter Bank" name="bank" id="bank" required>
                                </div>
                                <div class="acc-label-input">
                                    <label for="acc"><b>Account Number</b></label>
                                    <input type="text" placeholder="Enter Account Number" name="acc" id="acc" required>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="wallet-upload-block">

                        <div class="change-title-button">
                            <h2 class="wallet-acc-title"><i class='bx bx-wallet icon'></i>E-Wallet</h2>
                            <button class="change-button" onclick="setCode()">Save Change</button>
                        </div>

                        <div class="image-upload-block"> 
                            <div id="imagePreviewContainer">
                                <span id="placeholderIcon"><i class='bx bx-camera'></i></span>
                                <p id="placeholderText">Upload E-wallet QR image</p>
                                <img id="imagePreview" src="#" alt="Preview" style="display:none;">
                            </div>
                            <br>
                            <div id="uploadContainer">
                                <label for="image" id="uploadButton">
                                    <span id="uploadIcon"><i class='bx bx-camera' style="margin-right: 5px;"></i>Upload Image</span>
                                </label>
                                <input type="file" id="image" name="image" accept="image/*" required style="display: none;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Change Payment end -->

        </div>
        <!-- Payment block end -->
        
        <!-- Overdue block start -->
        <div class="overdue-block">
            <h2 class="block-title">Overdue</h2>
            
            <!--Search start -->
            <div class="search-block">
                <div class="search" id="search-overdue">
                    <span class="icon"><i class='bx bx-search icon'></i></span>
                    <form class="search-form">
                        <span class="search-bar"><input type="search" id="searchInput1" name="search" placeholder="Search" required></span>
                    </form>
                </div>
            </div>
            <!--Search end -->
            
            <!--Overdue table start -->
            <div class="table-wrapper-1">
                <table class="fl-table">
                    <thead class="table-head">
                    <tr style="background-color: #00557F;">
                        <th>Borrow No.</th>
                        <th>Accession Number</th>
                        <th>ISBN</th>
                        <th>Title</th>
                        <th>User ID</th>
                        <th>Username</th>
                        <th>Contact Number</th>
                        <th>Email</th>
                        <th>Due Days</th>
                        <th>Overdue Days</th>
                    </tr>
                    </thead>
                    <tbody id = "overdue_table"></tbody>
                </table>
            </div>
            <!--Overdue table end -->
        </div>
        <!-- Overdue block end -->

        <!-- Fines block start -->
        <div class="fines-block">
            <h2 class="block-title">Fines</h2>
            
            <!--Search start -->
            <div class="search-block">
                <div class="search" id="search-fines">
                    <span class="icon"><i class='bx bx-search icon'></i></span>
                    <form class="search-form">
                        <span class="search-bar"><input type="search" id="searchInput2" name="search" placeholder="Search" required></span>
                    </form>
                </div>
            </div>
            <!--Search end -->
            
            <!--Fines table start -->
            <div class="table-wrapper-2">
                <table class="fl-table" style="height: 200px;">
                    <thead class="table-head">
                    <tr style="background-color: #00557F;">
                        <th>Fines No.</th> 
                        <th>Borrow No.</th>
                        <th>User ID</th>
                        <th>Title</th>
                        <th>Author</th>
                        <th>ISBN</th>
                        <th>Accession Number</th>
                        <th>Book Price</th>
                        <th>Fine Price</th>
                        <th>Overdue days</th>
                        <th>Status</th>
                    </tr>
                    </thead>
                    <tbody id = "hello4"> 
                    </tbody>
                </table>
            </div>
            <!--Fines table end -->
        </div>
        <!-- Fines block start -->
    </main>

    <!-- Chatbox Start -->
    <button id="toggle-chat" class="circle-button"><i class='bx bxs-message-square-dots' ></i></button>
    <div class="chat-container" id="chat-container" style="display: none;">
        <div class="chat-box" id="chat-box"></div>
        <input type="text" id="user-input" class="user-input" placeholder="Type your message...">
    </div>
    <!-- Chatbox End -->

    <!-- Footer Start -->
    <footer id="footer-container"></footer>
    <!-- Footer End -->

    <!-- Javascript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="mainAdmin.js"></script>
    <script src="adminChatbox.js"></script>
    <script src="notification.js"></script>
    <script src="adminOverdue.js"></script>
    <script src="adminFines.js"></script>
</body>
</html>